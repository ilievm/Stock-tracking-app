{"ast":null,"code":"// second API key = 'HGJWFG4N8AQ66ICD'\nvar Stock = {\n  fetchStock: function fetchStock(name) {\n    var stockObject = {\n      type: \"line\",\n      xValueFormatString: \"MMM YYYY\",\n      prefix: \"$\",\n      showInLegend: true,\n      name: '',\n      itemclick: function itemclick(e) {\n        e.dataSeries = null;\n        e.chart.render();\n      },\n      dataPoints: []\n    };\n    var growthObject = {\n      type: \"area\",\n      showInLegend: true,\n      axisYType: \"secondary\",\n      suffix: \"%\",\n      visible: false,\n      name: '',\n      dataPoints: []\n    }; // console.log(pointerToThis);\n\n    var API_KEY = '740WRQPFQK10PTAG';\n    var API_Call = \"https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY_ADJUSTED&symbol=\".concat(name, \"&apikey=\").concat(API_KEY);\n    var stockChartXValuesFunction = [];\n    var stockChartYValuesFunction = [];\n    fetch(API_Call).then(function (response) {\n      return response.json();\n    })\n    /* actually fetching data */\n    .then(function (data) {\n      if (data.hasOwnProperty('Error Message')) {\n        return [{\n          error: 'error'\n        }, {}];\n      }\n\n      stockObject.name = data['Meta Data'][\"2. Symbol\"];\n      growthObject.name = data['Meta Data'][\"2. Symbol\"] + '%';\n\n      for (var key in data['Monthly Adjusted Time Series']) {\n        stockChartXValuesFunction.push(key);\n        stockChartYValuesFunction.push(parseInt(data['Monthly Adjusted Time Series'][key]['5. adjusted close']));\n      } // pushing them in the object\n\n\n      for (var i = 0; i < stockChartXValuesFunction.length; i++) {\n        stockObject.dataPoints.push({\n          y: stockChartYValuesFunction[i],\n          label: stockChartXValuesFunction[i]\n        });\n      } // ================================\n\n\n      for (var _i = 0; _i < stockChartXValuesFunction.length; _i++) {\n        growthObject.dataPoints.push({\n          y: stockChartYValuesFunction[_i] / stockChartYValuesFunction[stockChartYValuesFunction.length - 1] * 100,\n          label: stockChartXValuesFunction[_i]\n        });\n      }\n    });\n    return [stockObject, growthObject];\n  }\n};\nexport default Stock;","map":{"version":3,"sources":["C:\\Users\\misha\\Desktop\\site\\trying\\STOCK_APP\\Stock-tracking-app\\src\\views\\userInputFunction\\userInputFunction.jsx"],"names":["Stock","fetchStock","name","stockObject","type","xValueFormatString","prefix","showInLegend","itemclick","e","dataSeries","chart","render","dataPoints","growthObject","axisYType","suffix","visible","API_KEY","API_Call","stockChartXValuesFunction","stockChartYValuesFunction","fetch","then","response","json","data","hasOwnProperty","error","key","push","parseInt","i","length","y","label"],"mappings":"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","sourcesContent":["// second API key = 'HGJWFG4N8AQ66ICD'\r\n\r\nconst Stock = {\r\n            fetchStock(name) {\r\n                let stockObject={\r\n                    type: \"line\",\r\n                    xValueFormatString: \"MMM YYYY\",\r\n                    prefix: \"$\",\r\n                    showInLegend: true,\r\n                    name: '',\r\n                    itemclick: function (e) {\r\n                        e.dataSeries = null;\r\n                        e.chart.render();\r\n                    },\r\n                    dataPoints: []\r\n                };\r\n\r\n                let growthObject={\r\n                    type: \"area\",\r\n                    showInLegend: true,\r\n                    axisYType: \"secondary\",\r\n                    suffix: \"%\",\r\n                    visible : false,\r\n                    name: '',\r\n                    dataPoints: []\r\n                };\r\n                \r\n                \r\n                // console.log(pointerToThis);\r\n                const API_KEY = '740WRQPFQK10PTAG';\r\n                let API_Call = `https://www.alphavantage.co/query?function=TIME_SERIES_MONTHLY_ADJUSTED&symbol=${name}&apikey=${API_KEY}`;\r\n                let stockChartXValuesFunction = [];\r\n                let stockChartYValuesFunction = [];\r\n            \r\n                fetch(API_Call)\r\n                .then(\r\n                    function(response) {\r\n                    return response.json();\r\n                    }\r\n                ) /* actually fetching data */\r\n                .then(\r\n                    function(data) {\t  \r\n                        if (data.hasOwnProperty('Error Message')) {\r\n                            return [{error: 'error'}, {}]\r\n                        }                                          \r\n                    stockObject.name = data['Meta Data'][\"2. Symbol\"] ;\r\n                    growthObject.name = data['Meta Data'][\"2. Symbol\"] + '%' ;\r\n                    for (var key in data['Monthly Adjusted Time Series']) {\r\n                        stockChartXValuesFunction.push(key);\r\n                        stockChartYValuesFunction.push(parseInt(data['Monthly Adjusted Time Series'][key]['5. adjusted close']));\r\n                        \r\n                    }\r\n                            // pushing them in the object\r\n                    for (let i = 0;  i < stockChartXValuesFunction.length; i++) {\r\n                        stockObject.dataPoints.push({y: stockChartYValuesFunction[i], label: stockChartXValuesFunction[i]})}     \r\n                    // ================================\r\n\r\n                    for (let i = 0;  i < stockChartXValuesFunction.length; i++) {\r\n                        growthObject.dataPoints.push({y: (stockChartYValuesFunction[i]/\r\n                                                         stockChartYValuesFunction[stockChartYValuesFunction.length - 1] *100 ),\r\n                                                         label: stockChartXValuesFunction[i]})}  \r\n                    \r\n                    }\r\n                  )\r\n                  \r\n                  return [stockObject, growthObject]\r\n              }        \r\n}\r\n\r\nexport default Stock"]},"metadata":{},"sourceType":"module"}